<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Einfaches KI-Formular</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: 2em auto; }
    label, textarea, select, input { display: block; width: 100%; margin-bottom: 1em; }
    button { padding: 0.7em; background-color: #007acc; color: white; border: none; cursor: pointer; }
  </style>
</head>
<body>
  <h1>KI-Formular</h1>

  <label for="frage1">1. Was macht der Code?</label>
  <textarea id="frage1"></textarea>

  <label for="frage2">2. Wie hilfreich war der Vorschlag?</label>
  <select id="frage2">
    <option value="">Bitte auswählen</option>
    <option>Sehr hilfreich</option>
    <option>Hilfreich</option>
    <option>Neutral</option>
    <option>Wenig hilfreich</option>
    <option>Unverständlich</option>
  </select>

  <label for="frage3">3. Haben Sie den Vorschlag übernommen oder angepasst?</label>
  <input type="text" id="frage3">

  <button onclick="saveData()">Antwort absenden</button>

  <script>
    function saveData() {
      const frage1 = document.getElementById("frage1").value;
      const frage2 = document.getElementById("frage2").value;
      const frage3 = document.getElementById("frage3").value;

      const code = `function filterEven(nums) {
  return nums.flatMap(n => (n % 2 === 0 ? (n > 10 ? [n, n] : [n]) : []));
}
console.log(filterEven([2, 4, 11, 15, 7, 8, 12]));`;

      const params = new URLSearchParams({
        frage1,
        frage2,
        frage3,
        code
      });

      fetch("https://script.google.com/macros/s/AKfycbzEdORXTsp_A7btMU6FwOdLhv9PXvUJdg3FnqOTzppPb4peX7jXqEpnN7CiFvvEELB_/exec?" + params.toString())
        .then(response => response.text())
        .then(result => {
          alert("Antwort gespeichert!");
        })
        .catch(error => {
          console.error("Fehler:", error);
          alert("Speichern fehlgeschlagen.");
        });
    }
  </script>
</body>
</html>

